name: ollama-assistant
implements_contract: assistant
state_requirements:
  model_name: str
  base_url: str  # Default this to http://localhost:11434 in your item
executor: python
methods:
  chat: |
    import requests, json;
    url = f"{state['base_url']}/api/pull";
    data = {"model": state['model_name']};
    response = requests.post(url, json=data);
    url = f"{state['base_url']}/api/generate";
    data = {"model": state['model_name'], "prompt": inputs['prompt'], "stream": False};
    response = requests.post(url, json=data);
    result = response.json()
    print(f"HexBox AI ({state['model_name']}): {result['response']}")
